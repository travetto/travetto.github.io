<h1 id="travetto-context">travetto: Context</h1>
<p>Provides a simple wrapper around <code>async_hooks</code> to provide request context across async calls.  </p>
<p>The most common way of utilizing the context, is via the <code>@WithContext</code> decorator.<br>The decorator will load the context on invocation, and will keep the context active during<br>the entire asynchronous call chain.</p>
<p>For the decorator to work, it require the <code>class</code> to have a context object already defined on it.</p>
<pre><code class="lang-typescript"><span class="sx-keyword">class</span> TestableContext {{ "{" }}

   <span class="sx-keyword">constructor</span>(<span class="sx-params"><span class="sx-keyword">public</span> context:Context</span>){{ "{" }}{{ "}" }}

   <span class="sx-meta">@WithContext</span>()
   <span class="sx-keyword">async</span> complexOperator(name: <span class="sx-built_in">string</span>) {{ "{" }}
     <span class="sx-keyword">this</span>.context.set({{ "{" }} name {{ "}" }})
     <span class="sx-keyword">await</span> <span class="sx-keyword">this</span>.additionalOp(name);
   {{ "}" }}

   <span class="sx-keyword">async</span> additionalOp(check:<span class="sx-built_in">string</span>) {{ "{" }}
     assert(<span class="sx-keyword">this</span>.context.get().name === check);
   {{ "}" }}
{{ "}" }}
</code></pre>

