<div class="documentation"><h1 id="model-elasticsearch">Model-Elasticsearch</h1>
<p>This module provides an <a class="external-link" href="https://elastic.co" target="_blank" null><code>elasticsearch</code></a>-based implementation of <code>ModelSource</code> for the <a class="module-link" routerLink="/docs/model" null><code>Model</code></a> module.  This source allows the <code>Model</code> module to read, write and query against <code>elasticserch</code>. In development mode, the <code>ModelSource</code> will also modify the <code>elasticsearch</code> schema in real time to minimize impact to development.  </p>
<p>All that is needed to use the <code>ModelSource</code> is to register it with the <a class="module-link" routerLink="/docs/di" null><code>Dependency Injection</code></a> module.</p>
<pre><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Init</span> <span class="token punctuation">{{ '{' }}</span>
  @<span class="token meta">InjectableFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function">getModelSource</span><span class="token punctuation">(</span>conf<span class="token punctuation">:</span> ModelElasticsearchConfig<span class="token punctuation">)</span><span class="token punctuation">:</span> ModelSource <span class="token punctuation">{{ '{' }}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ModelElasticsearchSource</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{ '}' }}</span>
<span class="token punctuation">{{ '}' }}</span></code></pre><p>where the <code>ModelElasticsearchConfig</code> is defined by:</p>
<pre><code class="language-typescript">@<span class="token meta">Config</span><span class="token punctuation">(</span><span class="token string">'model.elasticsearch'</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ModelElasticsearchConfig</span> <span class="token punctuation">{{ '{' }}</span>
  hosts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  port <span class="token operator">=</span> <span class="token number">9200</span><span class="token punctuation">;</span>
  options <span class="token operator">=</span> <span class="token punctuation">{{ '{' }}</span><span class="token punctuation">{{ '}' }}</span><span class="token punctuation">;</span>
  <span class="token keyword">namespace</span> <span class="token operator">=</span> <span class="token string">'app'</span><span class="token punctuation">;</span>
<span class="token punctuation">{{ '}' }}</span></code></pre><p>and can be overridden via environment variables or config files, as defined in <a class="module-link" routerLink="/docs/config" null><code>Config</code></a>.</p>
<p><strong>NOTE</strong> During testing, the source will automatically spin up an <code>elasticsearch</code> server via a <code>docker</code> container if you are not already running the service.</p>
</div>
