<h1 id="travetto-asset">Asset</h1>
<p>This module provides the framework for storing/retrieving assets. It also provides additional image functionality for on-the-fly resizing. </p>
<p><code>GraphicsMagick</code> is used under the covers for image transformation.  If the binary is not installed the framework will spin up a <code>docker</code> container to provide needed functionality.</p>
<p>The primary driver for the Asset framework is an <code>AssetSource</code> which needs to be implemented 
to provide code on how to read and write files.  </p>
<pre><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Config</span> <span class="token keyword">extends</span> <span class="token class-name">AssetMongoConfig</span> <span class="token punctuation">{{ "{" }}</span>
  @<span class="token meta">InjectableFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function">getConf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> AssetMongoConfig <span class="token punctuation">{{ "{" }}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AssetMongoConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{ "}" }}</span>
  @<span class="token meta">InjectableFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function">getSource</span><span class="token punctuation">(</span>cfg<span class="token punctuation">:</span> AssetMongoConfig<span class="token punctuation">)</span><span class="token punctuation">:</span> AssetSource <span class="token punctuation">{{ "{" }}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AssetMongoSource</span><span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{ "}" }}</span>
<span class="token punctuation">{{ "}" }}</span>

@<span class="token meta">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">AssetService</span> <span class="token punctuation">{{ "{" }}</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> source<span class="token punctuation">:</span> AssetSource<span class="token punctuation">)</span> <span class="token punctuation">{{ "{" }}</span><span class="token punctuation">{{ "}" }}</span>

  <span class="token keyword">async</span> <span class="token function">getAsset</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{{ "{" }}</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{ "}" }}</span>
<span class="token punctuation">{{ "}" }}</span></code></pre>
<p>Primary implementations:</p>
<ul>
<li><a routerLink="/docs/asset-mongo"><code>Asset-Mongo</code></a> provides the mongodb driver for file management</li>
<li><a routerLink="/docs/asset-s3"><code>Asset-S3</code></a> provides the S3 driver for file management</li>
</ul>


